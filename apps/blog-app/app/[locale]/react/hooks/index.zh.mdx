# 为什么发明Hooks

## React 组件的本质: Modal -> View

Model 对应到 React 中就是 state 和 props。

View 对应到 React 中就是 JSX。

通过 JSX 将 Model 和 View 绑定在一起。

我们可以将一个组件看作是一个函数，这个函数接收一个参数，这个参数就是 props。

** Class 组件是否适合React **

- 我们组件的复用很少用到继承
- 很少外部调用Class的方法

## Hooks 的诞生

刚开始的时候函数组件又没有 State ，也没有生命周期方法，所以一般只用来做展示性的组件。

简单考虑一下如何实现一个有状态的函数组件。

- 需要一个函数之外的空间来保存这个状态，而且要能够检测其变化，从而能够触发函数组件的重新渲染。
- 需要一个机制，能够把一个外部的数据绑定到函数的执行。当数据变化时，函数能够自动重新执行。触发UI渲染。

### 在 React 中，这个机制就是 Hooks。

Hooks 就是把某个目标结果钩到某个可能会变化的数据源或者事件源上，那么当被钩到的数据或事件发生变化时，产生这个目标结果的代码会重新执行，产生更新后的结果。

对于函数组件，这个结果是最终的 DOM 树；对于 useCallback、useMemo 这样与缓存相关的组件，则是在依赖项发生变化时去更新缓存。

**Hooks 中被钩的对象，不仅可以是某个独立的数据源，也可以是另一个 Hook 执行的结果，这就带来了 Hooks 的最大好处：逻辑的复用。**

### Hooks简化了逻辑复用